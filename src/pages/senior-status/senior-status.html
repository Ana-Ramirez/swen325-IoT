<ion-header>
  <ion-navbar>
    <ion-title>
      MQTT Tutorial
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>

  <ion-card>
    <ion-card-content>
      Status: <b>{{mqttStatus}}</b>
    </ion-card-content>
  </ion-card>


  <ion-content padding>

    <ion-card>
      <ion-card-header>
        Message Received:
      </ion-card-header>
      <ion-card-content>
        {{message}}
      </ion-card-content>
    </ion-card>

    <ion-content padding>

      <ion-label stacked>
        Message to Send:
      </ion-label>
      <ion-textarea [(ngModel)]='messageToSend'>
        {{this.messageToSend}}
      </ion-textarea>
      <button ion-button full (click)="sendMessage()">
        Send Message
      </button>


      <ion-card>
        <ion-card-header>
          Sensor Battery Readings:
        </ion-card-header>
        <ion-card-content *ngIf="batteryReadingKeys.length === 0">
          We don't have any readings yet
        </ion-card-content>
        <ion-card-content *ngFor="let key of batteryReadingKeys">
          {{key}} : {{batteryReadings[key]}}
        </ion-card-content>
      </ion-card>


      <ion-card>
        <ion-card-header>
          Last Location Info:
        </ion-card-header>
        <ion-card-content>
          Last Location : {{lastLocation}}
          <br>
          Time since last motion : {{timeSinceLastMotion}} minutes
        </ion-card-content>
      </ion-card>

    </ion-content>



